<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>CS224nç¬”è®°[6]:æ›´å¥½çš„æˆ‘ä»¬ï¼Œæ›´å¥½çš„RNNs | éƒ­å¿…æ‰¬çš„å†™å­—æ¥¼</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0-alpha/dist/katex.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/github-markdown-css/2.2.1/github-markdown.css">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/logo_no_words.png">
    <script>
    var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?5aca48f844181444aea941eb9d707584";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
    </script>
    <meta name="description" content="æ¬¢è¿å…‰ä¸´å†™å­—æ¥¼ï¼Œå¤§æ¥¼å°šåœ¨æ–½å·¥ä¸­ğŸš§ï¼Œå¯¹æ‚¨é€ æˆçš„ä¸ä¾¿è¯·æ‚¨è°…è§£">
    
    <link rel="preload" href="/assets/css/0.styles.29dce6f0.css" as="style"><link rel="preload" href="/assets/js/app.41fc4255.js" as="script"><link rel="preload" href="/assets/js/2.a266bdc2.js" as="script"><link rel="preload" href="/assets/js/55.833154c7.js" as="script"><link rel="prefetch" href="/assets/js/10.4ee4705c.js"><link rel="prefetch" href="/assets/js/100.29306973.js"><link rel="prefetch" href="/assets/js/101.b7851f01.js"><link rel="prefetch" href="/assets/js/102.969e84bd.js"><link rel="prefetch" href="/assets/js/103.a356b143.js"><link rel="prefetch" href="/assets/js/104.51024b34.js"><link rel="prefetch" href="/assets/js/105.43f26204.js"><link rel="prefetch" href="/assets/js/106.c52df18d.js"><link rel="prefetch" href="/assets/js/107.856c79a2.js"><link rel="prefetch" href="/assets/js/108.bfb45b71.js"><link rel="prefetch" href="/assets/js/11.e2907ec5.js"><link rel="prefetch" href="/assets/js/12.65ea25ed.js"><link rel="prefetch" href="/assets/js/13.cbd5d07c.js"><link rel="prefetch" href="/assets/js/14.b84744eb.js"><link rel="prefetch" href="/assets/js/15.aadcc6a8.js"><link rel="prefetch" href="/assets/js/16.db45b326.js"><link rel="prefetch" href="/assets/js/17.7b58bd1b.js"><link rel="prefetch" href="/assets/js/18.38d69ee8.js"><link rel="prefetch" href="/assets/js/19.4e5ae4a8.js"><link rel="prefetch" href="/assets/js/20.7095c920.js"><link rel="prefetch" href="/assets/js/21.242fa291.js"><link rel="prefetch" href="/assets/js/22.5d8fafb1.js"><link rel="prefetch" href="/assets/js/23.7ce40eb4.js"><link rel="prefetch" href="/assets/js/24.18bba9ed.js"><link rel="prefetch" href="/assets/js/25.5d7dc814.js"><link rel="prefetch" href="/assets/js/26.a658bfa8.js"><link rel="prefetch" href="/assets/js/27.67a75243.js"><link rel="prefetch" href="/assets/js/28.f618d912.js"><link rel="prefetch" href="/assets/js/29.cebd6470.js"><link rel="prefetch" href="/assets/js/3.56cdaf41.js"><link rel="prefetch" href="/assets/js/30.8b95a1f1.js"><link rel="prefetch" href="/assets/js/31.c91ff346.js"><link rel="prefetch" href="/assets/js/32.b98ca641.js"><link rel="prefetch" href="/assets/js/33.d0d05ad0.js"><link rel="prefetch" href="/assets/js/34.4c521488.js"><link rel="prefetch" href="/assets/js/35.b804bcd7.js"><link rel="prefetch" href="/assets/js/36.5c07cfef.js"><link rel="prefetch" href="/assets/js/37.a0565011.js"><link rel="prefetch" href="/assets/js/38.b8ae16d0.js"><link rel="prefetch" href="/assets/js/39.ac23927e.js"><link rel="prefetch" href="/assets/js/4.b9abaf2a.js"><link rel="prefetch" href="/assets/js/40.51f0a3f5.js"><link rel="prefetch" href="/assets/js/41.c1a8242a.js"><link rel="prefetch" href="/assets/js/42.749efe23.js"><link rel="prefetch" href="/assets/js/43.624833c8.js"><link rel="prefetch" href="/assets/js/44.bbddd63e.js"><link rel="prefetch" href="/assets/js/45.d8d15651.js"><link rel="prefetch" href="/assets/js/46.1e480f1b.js"><link rel="prefetch" href="/assets/js/47.4f1075d4.js"><link rel="prefetch" href="/assets/js/48.a8f6c2ba.js"><link rel="prefetch" href="/assets/js/49.106d8698.js"><link rel="prefetch" href="/assets/js/5.1c0b46f4.js"><link rel="prefetch" href="/assets/js/50.a0819973.js"><link rel="prefetch" href="/assets/js/51.cb93eaba.js"><link rel="prefetch" href="/assets/js/52.69fe7f19.js"><link rel="prefetch" href="/assets/js/53.ad8f6842.js"><link rel="prefetch" href="/assets/js/54.c25909c5.js"><link rel="prefetch" href="/assets/js/56.75e06106.js"><link rel="prefetch" href="/assets/js/57.f5b5d514.js"><link rel="prefetch" href="/assets/js/58.574fd406.js"><link rel="prefetch" href="/assets/js/59.d07a17b6.js"><link rel="prefetch" href="/assets/js/6.4b4de84d.js"><link rel="prefetch" href="/assets/js/60.ee946b2f.js"><link rel="prefetch" href="/assets/js/61.68581797.js"><link rel="prefetch" href="/assets/js/62.99d168fd.js"><link rel="prefetch" href="/assets/js/63.14c4cfa2.js"><link rel="prefetch" href="/assets/js/64.61b2d608.js"><link rel="prefetch" href="/assets/js/65.f7077be9.js"><link rel="prefetch" href="/assets/js/66.0ce2a0ec.js"><link rel="prefetch" href="/assets/js/67.ee0094b6.js"><link rel="prefetch" href="/assets/js/68.c61d0f9f.js"><link rel="prefetch" href="/assets/js/69.c59f3168.js"><link rel="prefetch" href="/assets/js/7.ea2aa07c.js"><link rel="prefetch" href="/assets/js/70.21ea68bf.js"><link rel="prefetch" href="/assets/js/71.11355b09.js"><link rel="prefetch" href="/assets/js/72.cdc4bc45.js"><link rel="prefetch" href="/assets/js/73.d8946aed.js"><link rel="prefetch" href="/assets/js/74.75a2fd5c.js"><link rel="prefetch" href="/assets/js/75.14d3ef7d.js"><link rel="prefetch" href="/assets/js/76.3f73a91e.js"><link rel="prefetch" href="/assets/js/77.0018ed7f.js"><link rel="prefetch" href="/assets/js/78.c471326e.js"><link rel="prefetch" href="/assets/js/79.f9a1e6f0.js"><link rel="prefetch" href="/assets/js/8.f25633c9.js"><link rel="prefetch" href="/assets/js/80.a8c296e0.js"><link rel="prefetch" href="/assets/js/81.f6451a8b.js"><link rel="prefetch" href="/assets/js/82.f7393e31.js"><link rel="prefetch" href="/assets/js/83.a0642cbd.js"><link rel="prefetch" href="/assets/js/84.f2c12c65.js"><link rel="prefetch" href="/assets/js/85.f0077176.js"><link rel="prefetch" href="/assets/js/86.4180d39a.js"><link rel="prefetch" href="/assets/js/87.04e4ab18.js"><link rel="prefetch" href="/assets/js/88.93ea241c.js"><link rel="prefetch" href="/assets/js/89.555a3ba8.js"><link rel="prefetch" href="/assets/js/9.9aae1341.js"><link rel="prefetch" href="/assets/js/90.0701a493.js"><link rel="prefetch" href="/assets/js/91.8347eb90.js"><link rel="prefetch" href="/assets/js/92.9320e5ec.js"><link rel="prefetch" href="/assets/js/93.87dec14c.js"><link rel="prefetch" href="/assets/js/94.7a4ce357.js"><link rel="prefetch" href="/assets/js/95.060612ac.js"><link rel="prefetch" href="/assets/js/96.0b640400.js"><link rel="prefetch" href="/assets/js/97.5572d4ae.js"><link rel="prefetch" href="/assets/js/98.e013c8af.js"><link rel="prefetch" href="/assets/js/99.867ed389.js">
    <link rel="stylesheet" href="/assets/css/0.styles.29dce6f0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo_no_words.png" alt="éƒ­å¿…æ‰¬çš„å†™å­—æ¥¼" class="logo"> <span class="site-name can-hide">éƒ­å¿…æ‰¬çš„å†™å­—æ¥¼</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/dl_basis/" class="nav-link">
  æ·±åº¦å­¦ä¹ ç¬”è®°
</a></div><div class="nav-item"><a href="/nlp_basis/" class="nav-link router-link-active">
  NLPç¬”è®°
</a></div><div class="nav-item"><a href="/paper_notes/" class="nav-link">
  åƒç‚¹å„¿è®ºæ–‡
</a></div><div class="nav-item"><a href="/engineering/" class="nav-link">
  å·¥ç¨‹
</a></div><div class="nav-item"><a href="/opinions/" class="nav-link">
  éšç¬”
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  Me
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åœ¨åˆ«å¤„~" class="dropdown-title"><span class="title">åœ¨åˆ«å¤„~</span> <span class="arrow down"></span></button> <button type="button" aria-label="åœ¨åˆ«å¤„~" class="mobile-dropdown-title"><span class="title">åœ¨åˆ«å¤„~</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/beyondguo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.weixin.qq.com/s/v35g-p7wK2MkuM-SqjkF3g" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¾®ä¿¡å…¬ä¼—å·ã€ŒSimpleAIã€
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/guo-bi-yang-78" target="_blank" rel="noopener noreferrer" class="nav-link external">
  çŸ¥ä¹ã€Œèˆèˆã€
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/f4fe92da869c" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç®€ä¹¦
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/dl_basis/" class="nav-link">
  æ·±åº¦å­¦ä¹ ç¬”è®°
</a></div><div class="nav-item"><a href="/nlp_basis/" class="nav-link router-link-active">
  NLPç¬”è®°
</a></div><div class="nav-item"><a href="/paper_notes/" class="nav-link">
  åƒç‚¹å„¿è®ºæ–‡
</a></div><div class="nav-item"><a href="/engineering/" class="nav-link">
  å·¥ç¨‹
</a></div><div class="nav-item"><a href="/opinions/" class="nav-link">
  éšç¬”
</a></div><div class="nav-item"><a href="/about/" class="nav-link">
  Me
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="åœ¨åˆ«å¤„~" class="dropdown-title"><span class="title">åœ¨åˆ«å¤„~</span> <span class="arrow down"></span></button> <button type="button" aria-label="åœ¨åˆ«å¤„~" class="mobile-dropdown-title"><span class="title">åœ¨åˆ«å¤„~</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/beyondguo" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://mp.weixin.qq.com/s/v35g-p7wK2MkuM-SqjkF3g" target="_blank" rel="noopener noreferrer" class="nav-link external">
  å¾®ä¿¡å…¬ä¼—å·ã€ŒSimpleAIã€
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.zhihu.com/people/guo-bi-yang-78" target="_blank" rel="noopener noreferrer" class="nav-link external">
  çŸ¥ä¹ã€Œèˆèˆã€
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/f4fe92da869c" target="_blank" rel="noopener noreferrer" class="nav-link external">
  ç®€ä¹¦
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>CS224nç¬”è®°[6]:æ›´å¥½çš„æˆ‘ä»¬ï¼Œæ›´å¥½çš„RNNs</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜-vanishing-exploding-gradients" class="sidebar-link">æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼ˆvanishing/exploding gradientsï¼‰</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#å¦‚ä½•è§£å†³vanilla-rnnä¸­çš„æ¢¯åº¦æ¶ˆå¤±ã€çˆ†ç‚¸é—®é¢˜" class="sidebar-link">å¦‚ä½•è§£å†³vanilla RNNä¸­çš„æ¢¯åº¦æ¶ˆå¤±ã€çˆ†ç‚¸é—®é¢˜</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#æ¢¯åº¦çˆ†ç‚¸é—®é¢˜çš„è§£å†³" class="sidebar-link">æ¢¯åº¦çˆ†ç‚¸é—®é¢˜çš„è§£å†³</a></li><li class="sidebar-sub-header"><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#æ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„è§£å†³" class="sidebar-link">æ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„è§£å†³</a></li></ul></li><li><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#lstm" class="sidebar-link">LSTM</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#lstmæ‰’çš®è®²è§£" class="sidebar-link">LSTMæ‰’çš®è®²è§£</a></li><li class="sidebar-sub-header"><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#lstmä¸ºä½•æœ‰ç”¨" class="sidebar-link">LSTMä¸ºä½•æœ‰ç”¨</a></li></ul></li><li><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#gru" class="sidebar-link">GRU</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#lstm-vs-gru" class="sidebar-link">LSTM vs GRU</a></li></ul></li><li><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#æ›´å¤šæ›´å¥½çš„rnns" class="sidebar-link">æ›´å¤šæ›´å¥½çš„RNNs</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#åŒå‘rnns-bidirectional-rnns" class="sidebar-link">åŒå‘RNNsï¼ˆBidirectional RNNsï¼‰</a></li><li class="sidebar-sub-header"><a href="/nlp_basis/notes/CS224n%E7%AC%94%E8%AE%B0%5B6%5D-%E6%9B%B4%E5%A5%BD%E7%9A%84%E6%88%91%E4%BB%AC%EF%BC%8C%E6%9B%B4%E5%A5%BD%E7%9A%84RNNs.html#å¤šå±‚rnn-multi-layer-rnns" class="sidebar-link">å¤šå±‚RNNï¼ˆMulti-layer RNNsï¼‰</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="cs224nç¬”è®°-6-æ›´å¥½çš„æˆ‘ä»¬-æ›´å¥½çš„rnns"><a href="#cs224nç¬”è®°-6-æ›´å¥½çš„æˆ‘ä»¬-æ›´å¥½çš„rnns" class="header-anchor">#</a> CS224nç¬”è®°[6]:æ›´å¥½çš„æˆ‘ä»¬ï¼Œæ›´å¥½çš„RNNs</h1> <center>ä½œè€…ï¼šéƒ­å¿…æ‰¬</center> <p>ä¸Šä¸€èŠ‚æˆ‘ä»¬ä»‹ç»äº†è¯­è¨€æ¨¡å‹ï¼Œå¹¶ç”±æ­¤å¼•å…¥äº†RNNè¿™ç§ç¥ç»ç½‘ç»œã€‚æœ¬æ–‡æˆ‘ä»¬ä¸»è¦è®¨è®ºç»å…¸RNNç½‘ç»œçš„ä¸€äº›é—®é¢˜ï¼Œä»è¿™äº›é—®é¢˜å‡ºå‘ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€äº›æ›´å¥½çš„RNNç»“æ„ï¼ŒåŒ…æ‹¬LSTMå’ŒGRUã€‚</p> <h2 id="æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜-vanishing-exploding-gradients"><a href="#æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜-vanishing-exploding-gradients" class="header-anchor">#</a> æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸é—®é¢˜ï¼ˆvanishing/exploding gradientsï¼‰</h2> <p>è®©æˆ‘ä»¬é¦–å…ˆå›é¡¾ä¸€ä¸‹RNNè¿™ç§é“¾å¼ç»“æ„ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548293318-image.png" alt=""></p> <p>æˆ‘ä»¬ç§°è¿™ä¸ªç»å…¸çš„RNNç»“æ„ï¼Œä¸ºvanilla RNNæˆ–è€…simple RNNï¼Œè¿™ä¸ªvanillaçš„æ„æ€æ˜¯â€œæ™®é€šçš„ï¼Œæ¯«æ— ç‰¹è‰²çš„â€ï¼Œåœ¨è®ºæ–‡ä¸­æˆ‘ä»¬ä¼šç»å¸¸çœ‹åˆ°ã€‚</p> <p>å½“æˆ‘ä»¬éœ€è¦å¯¹ç¬¬jæ­¥çš„æŸå¤±<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>J</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">J^{(j)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>å¯¹å‰é¢çš„æŸä¸€æ­¥ï¼ˆæ¯”å¦‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">h^{(i)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>ï¼‰æ±‚æ¢¯åº¦çš„æ—¶å€™ï¼Œé€šè¿‡é“¾å¼æ³•åˆ™ï¼Œæˆ‘ä»¬åº”è¯¥è¿™æ ·æ±‚ï¼š</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.2500em" columnalign="right left" columnspacing="0em"><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>J</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mstyle mathcolor=" #cc0000"><mtext>\nonumber</mtext></mstyle></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>J</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mo>â‹…</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mo>â‹…</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo>âˆ’</mo><mn>2</mn><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mi mathvariant="normal">.</mi><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mstyle mathcolor=" #cc0000"><mtext>\nonumber</mtext></mstyle></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>J</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mo>â‹…</mo><msub><mi mathvariant="normal">Î </mi><mrow><mi>i</mi><mo>&lt;</mo><mi>t</mi><mo>â‰¤</mo><mi>j</mi></mrow></msub><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mstyle mathcolor=" #cc0000"><mtext>\nonumber</mtext></mstyle></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}
&amp;\frac{\partial J^{(j)}}{\partial h^{(i)}} \nonumber \\
&amp;= \frac{\partial J^{(j)}}{\partial h^{(j)}} \cdot \frac{\partial h^{(j)}}{\partial h^{(j-1)}} \cdot \frac{\partial h^{(j-1)}}{\partial h^{(j-2)}}... \frac{\partial h^{(i+1)}}{\partial h^{(i)}}\nonumber \\
&amp;= \frac{\partial J^{(j)}}{\partial h^{(j)}} \cdot \Pi_{i &lt; t \le j} \frac{\partial h^{(t)}}{\partial h^{(t-1)}}\nonumber \\
\end{align}
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:7.706999999999999em;vertical-align:-3.6034999999999995em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1034999999999995em;"><span style="top:-6.103499999999999em;"><span class="pstrut" style="height:3.565em;"></span><span class="mord"></span></span><span style="top:-3.5344999999999995em;"><span class="pstrut" style="height:3.565em;"></span><span class="mord"></span></span><span style="top:-0.9655000000000005em;"><span class="pstrut" style="height:3.565em;"></span><span class="mord"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.6034999999999995em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1034999999999995em;"><span style="top:-6.103499999999999em;"><span class="pstrut" style="height:3.565em;"></span><span class="mord"><span class="mord"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord text" style="color:#cc0000;"><span class="mord" style="color:#cc0000;">\nonumber</span></span></span></span><span style="top:-3.5344999999999995em;"><span class="pstrut" style="height:3.565em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">2</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">...</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mbin mtight">+</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord text" style="color:#cc0000;"><span class="mord" style="color:#cc0000;">\nonumber</span></span></span></span><span style="top:-0.9655000000000005em;"><span class="pstrut" style="height:3.565em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord">Î </span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.311664em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">&lt;</span><span class="mord mathnormal mtight">t</span><span class="mrel mtight">â‰¤</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord text" style="color:#cc0000;"><span class="mord" style="color:#cc0000;">\nonumber</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.6034999999999995em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:4.1034999999999995em;"><span style="top:-6.103499999999999em;"><span class="pstrut" style="height:3.565em;"></span><span class="eqn-num"></span></span><span style="top:-3.5344999999999995em;"><span class="pstrut" style="height:3.565em;"></span><span class="eqn-num"></span></span><span style="top:-0.9655000000000005em;"><span class="pstrut" style="height:3.565em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:3.6034999999999995em;"><span></span></span></span></span></span></span></span></span></p> <p>å…¶ä¸­ï¼Œå¯¹äº<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac></mrow><annotation encoding="application/x-tex">\frac{\partial h^{(t)}}{\partial h^{(t-1)}}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.456125em;vertical-align:-0.38542499999999996em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0707em;"><span style="top:-2.614575em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8220357142857143em;"><span style="top:-2.8220357142857138em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9667142857142857em;"><span style="top:-2.966714285714285em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.38542499999999996em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>ï¼Œæˆ‘ä»¬å¦‚æœå¿½ç•¥æ‰æ¿€æ´»å‡½æ•°ï¼Œåˆ™å¯ä»¥è¿‘ä¼¼è®¤ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mo>=</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">\frac{\partial h^{(t)}}{\partial h^{(t-1)}}=W</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:1.456125em;vertical-align:-0.38542499999999996em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.0707em;"><span style="top:-2.614575em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8220357142857143em;"><span style="top:-2.8220357142857138em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight" style="margin-right:0.05556em;">âˆ‚</span><span class="mord mtight"><span class="mord mathnormal mtight">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.9667142857142857em;"><span style="top:-2.966714285714285em;margin-right:0.07142857142857144em;"><span class="pstrut" style="height:2.5357142857142856em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.38542499999999996em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">W</span></span></span></span>ï¼ŒWå³é‚£ä¸ªå…±äº«çš„æƒé‡çŸ©é˜µã€‚</p> <p>åˆ™</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.2500em" columnalign="right" columnspacing=""><mtr><mtd class="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>J</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>i</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mo>=</mo><mfrac><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>J</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow><mrow><mi mathvariant="normal">âˆ‚</mi><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>j</mi><mo stretchy="false">)</mo></mrow></msup></mrow></mfrac><mo>â‹…</mo><msup><mi>W</mi><mrow><mi>j</mi><mo>âˆ’</mo><mi>i</mi></mrow></msup><mstyle mathcolor=" #cc0000"><mtext>\nonumber</mtext></mstyle></mrow></mstyle></mtd><mtd class="mtr-glue"></mtd><mtd class="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}
\frac{\partial J^{(j)}}{\partial h^{(i)}}
= \frac{\partial J^{(j)}}{\partial h^{(j)}} \cdot W^{j-i} \nonumber \\
\end{align}
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:2.569em;vertical-align:-1.0345em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5345em;"><span style="top:-3.5345em;"><span class="pstrut" style="height:3.565em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">i</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.565em;"><span style="top:-2.2960000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.814em;"><span style="top:-2.989em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">âˆ‚</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.09618em;">J</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.704em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.874664em;"><span style="top:-3.1130000000000004em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em;">j</span><span class="mbin mtight">âˆ’</span><span class="mord mathnormal mtight">i</span></span></span></span></span></span></span></span></span><span class="mord text" style="color:#cc0000;"><span class="mord" style="color:#cc0000;">\nonumber</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.0345em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5345em;"><span style="top:-3.5345em;"><span class="pstrut" style="height:3.565em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:1.0345em;"><span></span></span></span></span></span></span></span></span></p> <p>å¯ä»¥çœ‹å‡ºï¼Œ<strong>å½“Wå¾ˆå°æˆ–è€…å¾ˆå¤§ï¼ŒåŒæ—¶iå’Œjç›¸å·®å¾ˆè¿œçš„æ—¶å€™</strong>ï¼Œç”±äºå…¬å¼é‡Œæœ‰ä¸€ä¸ª<strong>æŒ‡æ•°è¿ç®—</strong>ï¼Œè¿™ä¸ªæ¢¯åº¦å°±ä¼šå‡ºç°å¼‚å¸¸ï¼Œå˜å¾—è¶…å¤§æˆ–è€…è¶…å°ï¼Œä¹Ÿå°±æ˜¯æ‰€è°“çš„â€œæ¢¯åº¦æ¶ˆå¤±/æ¢¯åº¦çˆ†ç‚¸â€é—®é¢˜ã€‚</p> <p>é‚£æ¢¯åº¦æ¶ˆå¤±å’Œæ¢¯åº¦çˆ†ç‚¸æ—¶åˆ†åˆ«æœ‰ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</p> <ul><li><strong>æ¢¯åº¦æ¶ˆå¤±</strong>æ—¶ï¼Œä¼šè®©RNNåœ¨æ›´æ–°çš„æ—¶å€™ï¼Œåªæ›´æ–°é‚»è¿‘çš„å‡ æ­¥ï¼Œè¿œå¤„çš„æ­¥å­å°±æ›´æ–°ä¸äº†ã€‚æ‰€ä»¥é‡åˆ°â€œé•¿è·ç¦»ä¾èµ–â€çš„æ—¶å€™ï¼Œè¿™ç§RNNå°±æ— æ³•handleäº†ã€‚</li> <li><strong>æ¢¯åº¦çˆ†ç‚¸</strong>æ—¶ï¼Œä¼šå¯¼è‡´åœ¨æ¢¯åº¦ä¸‹é™çš„æ—¶å€™ï¼Œæ¯ä¸€æ¬¡æ›´æ–°çš„æ­¥å¹…éƒ½è¿‡å¤§ï¼Œè¿™å°±ä½¿å¾—ä¼˜åŒ–è¿‡ç¨‹å˜å¾—ååˆ†å›°éš¾ã€‚</li></ul> <h2 id="å¦‚ä½•è§£å†³vanilla-rnnä¸­çš„æ¢¯åº¦æ¶ˆå¤±ã€çˆ†ç‚¸é—®é¢˜"><a href="#å¦‚ä½•è§£å†³vanilla-rnnä¸­çš„æ¢¯åº¦æ¶ˆå¤±ã€çˆ†ç‚¸é—®é¢˜" class="header-anchor">#</a> å¦‚ä½•è§£å†³vanilla RNNä¸­çš„æ¢¯åº¦æ¶ˆå¤±ã€çˆ†ç‚¸é—®é¢˜</h2> <h3 id="æ¢¯åº¦çˆ†ç‚¸é—®é¢˜çš„è§£å†³"><a href="#æ¢¯åº¦çˆ†ç‚¸é—®é¢˜çš„è§£å†³" class="header-anchor">#</a> æ¢¯åº¦çˆ†ç‚¸é—®é¢˜çš„è§£å†³</h3> <p>å‰é¢è®²åˆ°ï¼Œæ¢¯åº¦çˆ†ç‚¸ï¼Œå¸¦æ¥çš„ä¸»è¦é—®é¢˜æ˜¯åœ¨æ¢¯åº¦æ›´æ–°çš„æ—¶å€™æ­¥å¹…è¿‡å¤§ã€‚é‚£ä¹ˆæœ€ç›´æ¥çš„æƒ³æ³•å°±æ˜¯é™åˆ¶è¿™ä¸ªæ­¥é•¿ï¼Œæˆ–è€…æƒ³åŠæ³•è®©æ­¥é•¿å˜çŸ­ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨â€œæ¢¯åº¦ä¿®å‰ªï¼ˆgradient clippingï¼‰â€çš„æŠ€å·§æ¥åº”å¯¹æ¢¯åº¦çˆ†ç‚¸ã€‚cs224nä¸­ç»™å‡ºäº†ä¼ªä»£ç ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548313001-image.png" alt=""></p> <p>ä»ä¼ªä»£ç çœ‹ï¼Œè¿™ä¸ªæ€è·¯ç›¸å½“çš„ç®€æ´æ˜äº†ï¼šå½“æ­¥é•¿è¶…è¿‡æŸé˜ˆå€¼ï¼Œé‚£å°±æŠŠæ­¥é•¿ç¼©å‡åˆ°è¿™ä¸ªé˜ˆå€¼ã€‚</p> <h3 id="æ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„è§£å†³"><a href="#æ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„è§£å†³" class="header-anchor">#</a> æ¢¯åº¦æ¶ˆå¤±é—®é¢˜çš„è§£å†³</h3> <p>é‚£ä¹ˆå¦‚ä½•è§£å†³æ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜å‘¢ï¼Ÿæ¢¯åº¦æ¶ˆå¤±å¸¦æ¥çš„æœ€ä¸¥é‡é—®é¢˜åœ¨äºï¼Œåœ¨æ›´æ–°å‚æ•°æ—¶ï¼Œç›¸æ¯”äºä¸´è¿‘çš„stepï¼Œé‚£äº›è¾ƒè¿œçš„stepå‡ ä¹æ²¡æœ‰è¢«æ›´æ–°ã€‚ä»å¦ä¸€ä¸ªè§’åº¦è®²ï¼Œæ¯ä¸€ä¸ªstepçš„ä¿¡æ¯ï¼Œç”±äºæ¯ä¸€æ­¥éƒ½åœ¨è¢«åå¤ä¿®æ”¹ï¼Œå¯¼è‡´è¾ƒè¿œçš„stepçš„ä¿¡æ¯éš¾ä»¥ä¼ é€’è¿‡æ¥ï¼Œå› æ­¤ä¹Ÿéš¾ä»¥è¢«æ›´æ–°ã€‚</p> <p>æ ¹æ®hidden stateçš„è®¡ç®—å…¬å¼ï¼š</p> <p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup><mo>=</mo><mi>Ïƒ</mi><mo stretchy="false">(</mo><msub><mi>W</mi><mi>h</mi></msub><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><msub><mi>W</mi><mi>x</mi></msub><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup><mo>+</mo><mi>b</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">h^{(t)}=\sigma (W_h h^{(t-1)}+W_x x^{(t)}+b)
</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.938em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.188em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">Ïƒ</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.33610799999999996em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">h</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1.0879999999999999em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em;"><span style="top:-2.5500000000000003em;margin-left:-0.13889em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">x</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.938em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">b</span><span class="mclose">)</span></span></span></span></span></p> <p>å¯ä»¥çœ‹å‡ºï¼Œhidden stateåœ¨ä¸æ–­è¢«é‡å†™ï¼Œè¿™æ ·çš„è¯ï¼Œç»è¿‡å‡ æ­¥çš„ä¼ é€’ï¼Œæœ€å¼€å§‹çš„ä¿¡æ¯å°±å·²ç»æ‰€å‰©æ— å‡ äº†ã€‚è¿™æ ¹å‰é¢åœ¨è®¨è®ºæ¢¯åº¦æ¶ˆå¤±çš„é‚£ä¸ªåŒ…å«æŒ‡æ•°è®¡ç®—çš„å…¬å¼æ˜¯é¥ç›¸å‘¼åº”çš„ï¼Œéƒ½åæ˜ äº†vanilla RNNæ— æ³•å¯¹ä»˜é•¿è·ç¦»ä¾èµ–çš„é—®é¢˜ã€‚</p> <p>æ—¢ç„¶vanilla RNNæ— æ³•å¾ˆå¥½åœ°ä¿å­˜å†å²ä¿¡æ¯ï¼Œé‚£ä¹ˆæˆ‘ä»¬èƒ½ä¸èƒ½æƒ³åŠæ³•æŠŠè¿™ä¸ªâ€œå†å²çš„è®°å¿†â€è¿›è¡Œä¿å­˜æ—¥åä½¿ç”¨å‘¢ï¼Ÿâ€”â€”â€”â€”å½“ç„¶æ˜¯å¯ä»¥çš„ï¼ŒLSTMå°±æ˜¯å¹²è¿™äº‹å„¿ï¼</p> <h2 id="lstm"><a href="#lstm" class="header-anchor">#</a> LSTM</h2> <h3 id="lstmæ‰’çš®è®²è§£"><a href="#lstmæ‰’çš®è®²è§£" class="header-anchor">#</a> LSTMæ‰’çš®è®²è§£</h3> <p>LSTMè¿™ä¸ªå¾ˆéš¾è®°çš„ç½‘ç»œï¼Œç”±Hochreiterå’ŒSchmidhuberè¿™ä¸¤ä½å¾ˆéš¾è®°çš„ä½œè€…åœ¨1997å¹´æå‡ºï¼Œä¸»è¦å°±æ˜¯ä¸ºäº†è§£å†³RNNçš„æ¢¯åº¦æ¶ˆå¤±é—®é¢˜ã€‚è®ºæ–‡åœ°å€ï¼šhttps://www.bioinf.jku.at/publications/older/2604.pdf</p> <p>é¦–å…ˆæ”¾ä¸Šä¸€å¼ è‘—åçš„è‘—ååšä¸»colahç»˜åˆ¶çš„LSTMç»“æ„å›¾ï¼Œä½†å‡¡åœ¨ç½‘ä¸Šæœç´¢è¿‡LSTMçš„åŒå­¦åº”è¯¥éƒ½è§è¿‡ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548331438-image.png" alt="æ¥æºï¼šhttp://colah.github.io/posts/2015-08-Understanding-LSTMs/"></p> <p>åœ¨RNNçš„ç»å…¸ç»“æ„ä¸­ï¼Œæ¯ä¸€æ­¥éƒ½ä¼šæœ‰ä¸€ä¸ªéšå±‚çŠ¶æ€ï¼Œå³hidden stateï¼Œæˆ‘ä»¬è®°ç¬¬tæ­¥çš„hidden stateä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">h^{(t)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>
ï¼Œåœ¨LSTMä¸­ï¼Œä½œè€…å¢åŠ äº†ä¸€ä¸ªcell stateï¼Œè®°ä¸º<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>c</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">c^{(t)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>ã€‚</p> <ol><li>äºŒè€…æ˜¯é•¿åº¦ç›¸åŒçš„<strong>å‘é‡</strong>ï¼Œé•¿åº¦æ˜¯ä¸€ä¸ªè¶…å‚æ•°ï¼Œå³ç¥ç»ç½‘ç»œä¸­çš„number of unitsï¼›</li> <li>cell stateä¸­å¯ä»¥å­˜å‚¨é•¿è·ç¦»çš„ä¿¡æ¯ï¼ˆlong-term informationï¼‰ï¼›</li> <li>LSTMçš„å†…éƒ¨æœºåˆ¶ï¼Œå¯ä»¥å¯¹cell stateä¸­çš„ä¿¡æ¯è¿›è¡Œæ“¦é™¤ã€å†™å…¥å’Œè¯»å–ï¼ˆerase,write,readï¼‰.</li></ol> <p>é‚£LSTMæ˜¯æ€ä¹ˆå®ç°å¯¹cell stateä¸­çš„ä¿¡æ¯çš„æ“¦é™¤ã€å†™å…¥å’Œè¯»å–å‘¢ï¼Ÿâ€”â€”æœ‰â€œé—¨å„¿â€ï¼
LSTMæœ‰ä»¨é—¨å„¿ï¼Œåˆ†åˆ«å¯¹åº”è¿™ä¸‰ç§æ“ä½œã€‚è¿™äº›é—¨æœ‰ä¸€äº›å…¬å…±çš„æ€§è´¨ï¼š</p> <ol><li>é—¨ï¼ˆgateï¼‰æœ‰ä»€ä¹ˆç‰¹ç‚¹å‘¢ï¼Ÿ â€”â€” å®ƒå¯ä»¥â€œå¼€â€å’Œâ€œå…³â€ï¼Œç”¨ç¬¦å·è¡¨ç¤ºå°±æ˜¯1å’Œ0ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥åŠå¼€åŠå…³ï¼Œé‚£å°±æ˜¯ä»‹äº1å’Œ0ä¹‹é—´ã€‚</li> <li>å¦‚ä½•å¯¹ç”¨å‘é‡è¡¨ç¤ºçš„ä¿¡æ¯è¿›è¡Œâ€œå¼€å…³â€å‘¢ï¼Ÿ â€”â€” <strong>é—¨ä¹Ÿé‡‡ç”¨å‘é‡çš„å½¢å¼</strong>ï¼Œç›¸å½“äºä¸€æ’é—¨ï¼Œæ¥æ§åˆ¶å„ä¸ªç»´åº¦çš„ä¿¡æ¯ã€‚</li> <li>å¦‚ä½•å†³å®šâ€œå¼€â€è¿˜æ˜¯â€œå…³â€å‘¢ï¼Ÿ â€”â€” é—¨çš„çŠ¶æ€æ˜¯åŠ¨æ€çš„ï¼Œæ ¹æ®å½“å‰çš„ä¸Šä¸‹æ–‡æ¥å†³å®šã€‚</li></ol> <p>ä¸Šé¢æ˜¯ä»‹ç»äº†é—¨ä¹Ÿå°±æ˜¯gateçš„åŸºæœ¬æ€§è´¨ï¼Œä¸‹é¢æˆ‘ä»¬æ¥çœ‹å…·ä½“æœ‰å“ªäº›é—¨ï¼Œä»¥åŠå…·ä½“å¦‚ä½•æ§åˆ¶ä¿¡æ¯æµï¼š</p> <p>LSTMçš„ä¸‰ä¸ªé—¨åˆ†åˆ«æ˜¯ï¼šé—å¿˜é—¨ï¼ˆforget gateï¼‰ã€è¾“å‡ºé—¨ï¼ˆinput gateï¼‰å’Œè¾“å‡ºé—¨ï¼ˆoutput gateï¼‰ã€‚</p> <ul><li><strong>é—å¿˜é—¨</strong>ï¼šè¿™ä¸ªé—¨ï¼Œæ ¹æ®ä¸Šä¸€ä¸ªå•å…ƒçš„éšå±‚çŠ¶æ€å’Œå½“å‰ä¸€æ­¥çš„è¾“å…¥ï¼Œæ¥â€œè®¾ç½®é—å¿˜é—¨çš„å¼€åˆæƒ…å†µâ€ï¼Œç„¶åå¯¹cell stateä¸­çš„ä¿¡æ¯è¿›è¡Œ<strong>é€‰æ‹©æ€§é—å¿˜</strong>ï¼›</li> <li><strong>è¾“å…¥é—¨</strong>ï¼šè¿™ä¸ªé—¨ï¼Œä¹Ÿæ˜¯æ ¹æ®ä¸Šä¸ªå•å…ƒçš„éšå±‚çŠ¶æ€å’Œå½“å‰çš„è¾“å…¥ï¼Œæ¥â€œè®¾ç½®è¾“å…¥é—¨çš„å¼€åˆæƒ…å†µâ€ï¼Œç„¶åå†³å®šå¾€cell stateä¸­è¾“å…¥å“ªäº›ä¿¡æ¯ï¼Œå³<strong>é€‰æ‹©æ€§è¾“å…¥</strong>ï¼›</li> <li><strong>è¾“å‡ºé—¨</strong>ï¼šè¿™ä¸ªé—¨ï¼Œè¿˜æ˜¯æ ¹æ®ä¸Šä¸ªå•å…ƒçš„éšå±‚çŠ¶æ€å’Œå½“å‰è¾“å…¥ï¼Œæ¥â€œè®¾ç½®è¾“å‡ºé—¨çš„å¼€åˆæƒ…å†µâ€ï¼Œç„¶åå†³å®šä»cell stateä¸­è¾“å‡ºå“ªäº›ä¿¡æ¯ï¼Œå³<strong>é€‰æ‹©æ€§è¾“å‡º</strong>ï¼Œè¾“å‡ºçš„ï¼Œå°±æ˜¯å½“å‰è¿™ä¸€æ­¥çš„éšå±‚çŠ¶æ€ã€‚</li></ul> <p>ä¸Šé¢æˆ‘è¯´çš„åº”è¯¥å¾ˆæ¸…æ¥šäº†ï¼Œä¸è¿‡ä¸‹é¢è¿™å¼ æ¥è‡ªCS224Nçš„æ€»ç»“æ›´åŠ ç›´è§‚ï¼Œå¤§å®¶å¯ä»¥å¯¹ç…§ç€å›¾ç‰‡çœ‹æˆ‘ä¸Šé¢çš„æ–‡å­—ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548386020-image.png" alt=""></p> <p>æˆ‘ä»¬å¯¹LSTMä¸‰ä¸ªé—¨çš„åŠŸèƒ½è¿›è¡Œäº†æè¿°ï¼Œä¸‹é¢ç»™å‡ºå…·ä½“çš„æ¨¡å‹å…¬å¼ï¼Œè¿˜æ˜¯æ”¾å‡ºcs224nè¯¾ç¨‹ä¸­çš„æ€»ç»“ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548396086-image.png" alt=""></p> <p>ä»ä¸Šé¢çš„å…¬å¼ã€æˆ‘çš„æè¿°ä»¥åŠå›¾ç¤ºä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°ï¼Œè™½ç„¶LSTMç»“æ„å¤æ‚ï¼Œä½†æ˜¯<strong>å¾ˆæœ‰è§„å¾‹</strong>çš„ï¼š</p> <ol><li>ä¸‰ä¸ªé—¨çš„è¾“å…¥éƒ½ä¸€æ ·ï¼éƒ½æ˜¯å‰ä¸€æ­¥çš„éšå±‚<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">h^{(t-1)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>å’Œå½“å‰çš„è¾“å…¥<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>x</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">x^{(t)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>;</li> <li>ä¸‰ä¸ªé—¨éƒ½æ˜¯é’ˆå¯¹cell stateè¿›è¡Œæ“ä½œçš„ï¼Œå¯¹ä¸Šä¸€æ­¥çš„cell stateå³<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>c</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">c^{(t-1)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>è¿›è¡Œâ€œé€‰æ‹©æ€§é—å¿˜â€æ“ä½œï¼›å¯¹å½“å‰æ­¥äº§ç”Ÿçš„ä¿¡æ¯<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mover accent="true"><mi>c</mi><mo>~</mo></mover><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">\tilde{c}^{(t)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord accent"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.6678599999999999em;"><span style="top:-3em;"><span class="pstrut" style="height:3em;"></span><span class="mord mathnormal">c</span></span><span style="top:-3.35em;"><span class="pstrut" style="height:3em;"></span><span class="accent-body" style="left:-0.19444em;"><span class="mord">~</span></span></span></span></span></span></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>â€œé€‰æ‹©æ€§è¾“å…¥â€åˆ°è¯¥æ­¥çš„cell state <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>c</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">c^{(t)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>ä¸­ï¼›æœ€åä»<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>c</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">c^{(t)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">c</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>ä¸­â€œé€‰æ‹©æ€§è¾“å‡ºâ€ä¸€äº›ä¿¡æ¯æˆä¸ºè¯¥æ­¥çš„hidden state <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>h</mi><mrow><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo></mrow></msup></mrow><annotation encoding="application/x-tex">h^{(t)}</annotation></semantics></math></span><span aria-hidden="true" class="katex-html"><span class="base"><span class="strut" style="height:0.8879999999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord mathnormal">h</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8879999999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mopen mtight">(</span><span class="mord mathnormal mtight">t</span><span class="mclose mtight">)</span></span></span></span></span></span></span></span></span></span></span></span>ã€‚</li></ol> <p>æœ‰æ²¡æœ‰è¯´çš„å¾ˆæ¸…æ™°ï¼Ÿæ²¡æœ‰çš„è¯åå°æ‰¾æˆ‘æ‰‹æŠŠæ‰‹æ•™å­¦ï¼â”—(â€¢Ï‰â€¢;)â”›</p> <h3 id="lstmä¸ºä½•æœ‰ç”¨"><a href="#lstmä¸ºä½•æœ‰ç”¨" class="header-anchor">#</a> LSTMä¸ºä½•æœ‰ç”¨</h3> <p>ä¸Šé¢æˆ‘ä»¬è¯¦ç»†å­¦ä¹ äº†LSTMçš„å†…éƒ¨åŸç†ï¼Œç°åœ¨æˆ‘ä»¬è®¨è®ºä¸€ä¸‹å®ƒä¸ºä»€ä¹ˆå¯ä»¥èµ·ä½œç”¨ï¼Ÿ</p> <p>RNNä¹‹æ‰€ä»¥å­˜åœ¨æ¢¯åº¦æ¶ˆå¤±ã€æ— æ³•å¤„ç†é•¿è·ç¦»ä¾èµ–çš„é—®é¢˜ï¼Œæ˜¯å› ä¸ºè¿œå¤„çš„ä¿¡æ¯ç»è¿‡å¤šæ­¥çš„RNNå•å…ƒçš„è®¡ç®—åï¼Œä¸æ–­æŸå¤±æ‰äº†ã€‚æ‰€ä»¥RNNä¸€èˆ¬åªèƒ½è€ƒè™‘åˆ°è¾ƒè¿‘çš„æ­¥éª¤å¯¹å½“å‰è¾“å‡ºçš„å½±å“ã€‚</p> <p>LSTMç›¸å¯¹äºRNNï¼Œæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯â€œå¢è®¾äº†ä¸€æ¡ç®¡é“â€â€”â€”cell stateï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548410142-image.png" alt=""></p> <p>è¿™æ¡ç®¡é“ï¼Œä½¿å¾—æ¯ä¸ªå•å…ƒçš„ä¿¡æ¯éƒ½èƒ½å¤Ÿä»è¿™é‡Œç›´é€šå…¶ä»–é¥è¿œçš„å•å…ƒï¼Œè€Œä¸æ˜¯ä¸€å®šè¦é€šè¿‡ä¸€ä¸ªä¸ªå•å…ƒçš„hidden statesæ¥ä¼ é€’ä¿¡æ¯ã€‚è¿™ç›¸å½“äºå·ç§¯ç¥ç»ç½‘ç»œä¸­å¸¸ç”¨çš„â€œskip connectionâ€æŠ€å·§ã€‚</p> <p>é‚£ä¹ˆä¿¡æ¯æ˜¯å¦‚ä½•é€šè¿‡cell stateè¿™ä¸ªç®¡é“å»å¾€è¯—å’Œè¿œæ–¹å‘¢ï¼Ÿé€šè¿‡ä¸Šé¢çš„å­¦ä¹ ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œåªè¦ä¿¡æ¯åœ¨cell stateä¸­ä¼ é€’æ—¶ï¼Œé—å¿˜é—¨å¸¸å¼€ï¼ˆè®©ä¿¡æ¯é¡ºåˆ©é€šè¿‡ï¼‰ï¼Œè¾“å…¥é—¨å¸¸é—­ï¼ˆä¸è®©æ–°çš„ä¿¡æ¯è¿›å…¥ï¼‰ï¼Œé‚£ä¹ˆè¿™æ¡ä¿¡æ¯å°±å¯ä»¥åƒåšæ»‘æ»‘æ¢¯ä¸€æ ·é¡ºæµç›´ä¸‹ä¸‰åƒå°ºï¼Œæƒ³è·‘å¤šè¿œè·‘å¤šè¿œï¼›é—¨çš„è¿™äº›æ“ä½œï¼Œä½¿å¾—ä¿¡æ¯è¿›è¡Œé•¿è·ç¦»ä¼ é€’æˆä¸ºäº†å¯èƒ½ã€‚</p> <p>å½“ç„¶ï¼Œä¸Šé¢è¯´çš„æƒ…å†µæ¯”è¾ƒæç«¯ï¼Œå®é™…ä¸Šï¼Œè¿™äº›é—¨ä¸€èˆ¬éƒ½ä¸ä¼šå®Œå…¨æ‰“å¼€æˆ–å…³é—­ï¼Œè€Œæ˜¯å¤„äºå„ç§ä¸­é—´çŠ¶æ€ã€‚å¦å¤–ï¼Œæ˜¯å¦è®©ä¿¡æ¯ä¼ é€’è¿™ä¹ˆè¿œï¼Œä¹Ÿæ˜¯ç”±å½“å‰çš„ä¸Šä¸‹æ–‡å†³å®šçš„ã€‚æ‰€ä»¥ï¼Œå¹¶ä¸æ˜¯è¯´æ‰€æœ‰çš„ä¿¡æ¯éƒ½ä¼šä¼ é€’è€è¿œï¼Œè€Œæ˜¯å½“ä¿¡æ¯çœŸçš„éœ€è¦è¿›è¡Œé•¿è·ç¦»ä¼ è¾“çš„æ—¶å€™ï¼ŒLSTMè¿™ç§æœºåˆ¶ä½¿å¾—è¿™ä¸ªè¿‡ç¨‹æ›´åŠ å®¹æ˜“ã€‚</p> <p>å®é™…ä¸Šï¼ŒLSTMä¸å…‰æ˜¯è§£å†³äº†é•¿è·ç¦»ä¾èµ–çš„é—®é¢˜ï¼Œå®ƒçš„å„ç§é—¨ï¼Œä½¿å¾—æ¨¡å‹çš„å­¦ä¹ æ½œåŠ›å¤§å¤§æå‡ï¼Œå„ç§é—¨çš„å¼€é—­çš„ç»„åˆï¼Œè®©æ¨¡å‹å¯ä»¥å­¦ä¹ å‡ºè‡ªç„¶è¯­è¨€ä¸­å„ç§å¤æ‚çš„å…³ç³»ã€‚æ¯”å¦‚é—å¿˜é—¨çš„ä½¿ç”¨ï¼Œå¯ä»¥è®©æ¨¡å‹å­¦ä¹ å‡ºä»€ä¹ˆæ—¶å€™è¯¥æŠŠå†å²çš„ä¿¡æ¯ç»™å¿˜æ‰ï¼Œè¿™æ ·å°±å¯ä»¥è®©æ¨¡å‹åœ¨ç‰¹ç‚¹çš„æ—¶å€™æ’é™¤å¹²æ‰°ã€‚</p> <p>å¦å¤–ï¼Œè®°ä½LSTMçš„å„ç§é—¨éƒ½æ˜¯å‘é‡ï¼Œé•¿åº¦è·Ÿhidden statesä¸€è‡´ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™äº›é—¨ä¸æ˜¯å•çº¯å¯¹ä¿¡æ¯ä¸€åˆ€åˆ‡ï¼Œè€Œæ˜¯å¯¹ä¸åŒçš„ä¿¡æ¯çš„ç»´åº¦åˆ†åˆ«è¿›è¡Œå¤„ç†ï¼Œè¿™ä¹Ÿå°±æ˜¯æˆ‘å‰é¢ä¸€ç›´å¼ºè°ƒçš„â€œé€‰æ‹©æ€§â€ã€‚</p> <h2 id="gru"><a href="#gru" class="header-anchor">#</a> GRU</h2> <p>GRUå®é™…ä¸Šæ˜¯å¯¹LSTMçš„ä¸€ä¸ªç®€åŒ–ï¼Œå®ƒäº2014å¹´ç”±Choç­‰äººæå‡ºã€‚è®ºæ–‡åœ°å€ï¼šhttps://arxiv.org/pdf/1406.1078v3.pdf</p> <p>è¿™é‡Œå°±ç›´æ¥ç»™å‡ºGRUçš„å…¬å¼ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548423427-image.png" alt=""></p> <p>GRUä¹Ÿæ˜¯ç”±â€œé—¨â€æ„æˆçš„ç½‘ç»œï¼Œå®ƒåªæœ‰ä¸¤ä¸ªé—¨ï¼šæ›´æ–°é—¨ï¼ˆupdate gateï¼‰å’Œé‡ç½®é—¨ï¼ˆreset gateï¼‰ã€‚
å®ƒä¸»è¦å¯¹LSTMç®€åŒ–äº†ä»€ä¹ˆåœ°æ–¹å‘¢ï¼ŸGRUåœ¨è¡¨ç¤ºå½“å‰çš„ä¿¡æ¯çš„æ—¶å€™ï¼Œåªä½¿ç”¨äº†ä¸€ä¸ªæ›´æ–°é—¨ï¼Œè€ŒLSTMåˆ™ä½¿ç”¨äº†ä¸€ä¸ªé—å¿˜é—¨å’Œä¸€ä¸ªè¾“å…¥é—¨ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548440181-image.png" alt=""></p> <p>GRUä¹Ÿæ˜¯å¯ä»¥é€šè¿‡è°ƒæ•´ä¸¤ä¸ªé—¨çš„å¼€åˆæƒ…å†µæ¥æ§åˆ¶å†å²ä¿¡æ¯çš„ä¿ç•™å’Œå½“å‰ä¿¡æ¯çš„æ›´æ–°ï¼Œä»è€Œè®©æ¨¡å‹æ›´å¥½åœ°åº”å¯¹é•¿è·ç¦»ä¾èµ–å’Œæ¢¯åº¦æ¶ˆå¤±çš„é—®é¢˜ã€‚</p> <h3 id="lstm-vs-gru"><a href="#lstm-vs-gru" class="header-anchor">#</a> LSTM vs GRU</h3> <p>LSTMå’ŒGRUéƒ½æ˜¯è‘—åçš„RNNè¡ç”Ÿç»“æ„ï¼Œä¸€ä¸ªå¤æ‚ï¼Œä¸€ä¸ªç®€å•ã€‚
ä¸€èˆ¬LSTMéƒ½åº”è¯¥ä½œä¸ºæˆ‘ä»¬é»˜è®¤çš„é€‰æ‹©ï¼Œå› ä¸ºå®ƒå­¦ä¹ èƒ½åŠ›æ›´å¼ºï¼Œæ‰€ä»¥å½“æˆ‘ä»¬æ•°æ®é‡è¶³å¤Ÿï¼Œåˆä¸å¤ªåœ¨ä¹æ—¶é—´å¼€é”€çš„è¯ï¼ŒLSTMæ˜¯é¦–é€‰ã€‚ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬å¾ˆåœ¨æ„æ¨¡å‹å¤§å°ï¼Œè®­ç»ƒå¼€é”€ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¯•è¯•GRUã€‚</p> <h2 id="æ›´å¤šæ›´å¥½çš„rnns"><a href="#æ›´å¤šæ›´å¥½çš„rnns" class="header-anchor">#</a> æ›´å¤šæ›´å¥½çš„RNNs</h2> <p>å‰é¢ä»‹ç»çš„LSTMå’ŒGRUå±äºRNNå•å…ƒå†…éƒ¨çš„å‡çº§ï¼Œåœ¨å•å…ƒå¤–éƒ¨ï¼Œæˆ‘ä»¬å¯ä»¥è®¾è®¡ä¸€äº›æ›´å¤æ‚çš„ç»“æ„ï¼Œæ¥æé«˜æ¨¡å‹çš„ç»¼åˆæ•ˆæœã€‚</p> <h3 id="åŒå‘rnns-bidirectional-rnns"><a href="#åŒå‘rnns-bidirectional-rnns" class="header-anchor">#</a> åŒå‘RNNsï¼ˆBidirectional RNNsï¼‰</h3> <p>RNNæ˜¯æŒ‰ç…§é¡ºåºå¤„ç†ä¸€ä¸ªåºåˆ—çš„ï¼Œè¿™ä½¿å¾—æ¯ä¸ªstepæˆ‘ä»¬éƒ½åªèƒ½è€ƒè™‘åˆ°å‰é¢çš„ä¿¡æ¯ï¼Œè€Œæ— æ³•è€ƒè™‘åˆ°åé¢çš„ä¿¡æ¯ã€‚è€Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬ç†è§£è¯­è¨€çš„æ—¶å€™ï¼Œéœ€è¦åŒæ—¶è€ƒè™‘å‰åæ–‡ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥å°†åŸæœ¬çš„RNNå†æ·»åŠ ä¸€ä¸ªç›¸åæ–¹å‘çš„å¤„ç†ï¼Œç„¶åä¸¤ä¸ªæ–¹å‘å…±åŒè¡¨ç¤ºæ¯ä¸€æ­¥çš„è¾“å‡ºã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548500871-image.png" alt=""></p> <p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåªæœ‰å½“æˆ‘ä»¬åœ¨é¢„æµ‹æ—¶å¯ä»¥æ‹¿åˆ°å‰åæ–‡çš„æ—¶å€™ï¼Œæ‰èƒ½ä½¿ç”¨åŒå‘çš„æ¨¡å‹ï¼Œæ‰€ä»¥å¯¹äºè¯­è¨€æ¨¡å‹ï¼ˆLMï¼‰æˆ‘ä»¬å°±æ— æ³•ä½¿ç”¨ï¼Œå› ä¸ºåœ¨é¢„æµ‹æ—¶æˆ‘ä»¬åªæœ‰å‰æ–‡ã€‚ä½†æ˜¯ï¼Œä½†æˆ‘ä»¬å¯ä»¥åˆ©ç”¨åŒå‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬å°±åº”è¯¥è¿™æ ·åšï¼Œè€ƒè™‘æ›´å……åˆ†å½“ç„¶ä¼šæ›´å¥½ã€‚</p> <h3 id="å¤šå±‚rnn-multi-layer-rnns"><a href="#å¤šå±‚rnn-multi-layer-rnns" class="header-anchor">#</a> å¤šå±‚RNNï¼ˆMulti-layer RNNsï¼‰</h3> <p>Multi-layer RNNsä¹Ÿå¯ä»¥ç§°ä¸ºStacked RNNsï¼Œå°±æ˜¯å †å èµ·æ¥çš„ä¸€å †RNNå˜›ã€‚
è¿™ä¸ªæ›´åŠ æ— éœ€æ›´å¤šè§£é‡Šï¼Œç›¸å½“äºç¥ç»ç½‘ç»œåŠ æ·±ï¼š</p> <p><img src="https://cdn.jsdelivr.net/gh/beyondguo/mdnice_pictures/2021-6-24/1624548485314-image.png" alt=""></p> <p>ç¥ç»ç½‘ç»œåŠ æ·±ï¼Œå¾€å¾€å¯ä»¥å¸¦æ¥æ›´å¥½çš„æ•ˆæœï¼Œå› ä¸ºå®ƒçš„å­¦ä¹ èƒ½åŠ›å¤§å¤§æé«˜ã€‚è€Œä¸”ï¼Œå°±è·ŸCNNä¸€æ ·ï¼Œä¸åŒå±‚æ¬¡çš„RNNä¹Ÿå¯ä»¥å­¦ä¹ åˆ°è¯­è¨€çš„ä¸åŒå±‚æ¬¡çš„ç‰¹å¾ã€‚ä½†æ˜¯ï¼ŒRNNè·ŸCNNä¸åŒçš„æ˜¯ï¼Œæˆ‘ä»¬æ— æ³•ä½¿ç”¨å¤ªå¤šå±‚ï¼Œä¸€èˆ¬2-4å±‚å°±å·®ä¸å¤šäº†ã€‚</p> <hr> <p>è‡³æ­¤ï¼Œæˆ‘ä»¬å°±ä»‹ç»å®Œäº†RNNåŠå…¶è¿›åŒ–å‡ºæ¥çš„å„ç§ç»“æ„ã€‚å­¦ä¹ äº†RNNè¿™ä¸€å¤§ç±»ç½‘ç»œï¼Œæˆ‘ä»¬å°±å¯ä»¥çœŸæ­£å’ŒNLPè¿›è¡Œäº²å¯†æ¥è§¦äº†ï¼(<em>/Ï‰ï¼¼</em>)</p></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.41fc4255.js" defer></script><script src="/assets/js/2.a266bdc2.js" defer></script><script src="/assets/js/55.833154c7.js" defer></script>
  </body>
</html>
