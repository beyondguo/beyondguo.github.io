(window.webpackJsonp=window.webpackJsonp||[]).push([[61],{430:function(s,t,a){"use strict";a.r(t);var n=a(44),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("blockquote",[a("p",[a("strong",[s._v("ã€ŒHuggingfaceğŸ¤—NLPç¬”è®°ç³»åˆ—-ç¬¬4é›†ã€")]),s._v("\næœ€è¿‘è·Ÿç€Huggingfaceä¸Šçš„NLP tutorialèµ°äº†ä¸€éï¼ŒæƒŠå¹å±…ç„¶æœ‰å¦‚æ­¤å¥½çš„è®²è§£Transformersç³»åˆ—çš„NLPæ•™ç¨‹ï¼Œäºæ˜¯å†³å®šè®°å½•ä¸€ä¸‹å­¦ä¹ çš„è¿‡ç¨‹ï¼Œåˆ†äº«æˆ‘çš„ç¬”è®°ï¼Œå¯ä»¥ç®—æ˜¯å®˜æ–¹æ•™ç¨‹çš„ç²¾ç®€+æ³¨è§£ç‰ˆã€‚ä½†æœ€æ¨èçš„ï¼Œè¿˜æ˜¯ç›´æ¥è·Ÿç€å®˜æ–¹æ•™ç¨‹æ¥ä¸€éï¼ŒçœŸæ˜¯ä¸€ç§äº«å—ã€‚")])]),s._v(" "),a("ul",[a("li",[s._v("å®˜æ–¹æ•™ç¨‹ç½‘å€ï¼šhttps://huggingface.co/course/chapter1")]),s._v(" "),a("li",[s._v("æœ¬æœŸå†…å®¹å¯¹åº”ç½‘å€ï¼šhttps://huggingface.co/course/chapter2/3?fw=pt")]),s._v(" "),a("li",[s._v("æœ¬ç³»åˆ—ç¬”è®°çš„"),a("strong",[s._v("GitHub")]),s._v("ï¼š https://github.com/beyondguo/Learn_PyTorch/tree/master/HuggingfaceNLP")])]),s._v(" "),a("hr"),s._v(" "),a("h1",{attrs:{id:"models-tokenizers-ä»¥åŠå¦‚ä½•åšsubword-tokenization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#models-tokenizers-ä»¥åŠå¦‚ä½•åšsubword-tokenization"}},[s._v("#")]),s._v(" Modelsï¼ŒTokenizersï¼Œä»¥åŠå¦‚ä½•åšSubword tokenization")]),s._v(" "),a("h2",{attrs:{id:"models"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#models"}},[s._v("#")]),s._v(" Models")]),s._v(" "),a("p",[s._v("å‰é¢éƒ½æ˜¯ä½¿ç”¨çš„"),a("code",[s._v("AutoModel")]),s._v("ï¼Œè¿™æ˜¯ä¸€ä¸ªæ™ºèƒ½çš„wrapperï¼Œå¯ä»¥æ ¹æ®ä½ ç»™å®šçš„checkpointåå­—ï¼Œè‡ªåŠ¨å»å¯»æ‰¾å¯¹åº”çš„ç½‘ç»œç»“æ„ï¼Œæ•…åAutoã€‚")]),s._v(" "),a("p",[s._v("å¦‚æœæ˜ç¡®çŸ¥é“æˆ‘ä»¬éœ€è¦çš„æ˜¯ä»€ä¹ˆç½‘ç»œæ¶æ„ï¼Œå°±å¯ä»¥ç›´æ¥ä½¿ç”¨å…·ä½“çš„"),a("code",[s._v("*Model")]),s._v("ï¼Œæ¯”å¦‚"),a("code",[s._v("BertModel")]),s._v("ï¼Œå°±æ˜¯ä½¿ç”¨Bertç»“æ„ã€‚")]),s._v(" "),a("h3",{attrs:{id:"éšæœºåˆå§‹åŒ–ä¸€ä¸ªtransformeræ¨¡å‹-é€šè¿‡configæ¥åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#éšæœºåˆå§‹åŒ–ä¸€ä¸ªtransformeræ¨¡å‹-é€šè¿‡configæ¥åŠ è½½"}},[s._v("#")]),s._v(" éšæœºåˆå§‹åŒ–ä¸€ä¸ªTransformeræ¨¡å‹ï¼šé€šè¿‡"),a("code",[s._v("config")]),s._v("æ¥åŠ è½½")]),s._v(" "),a("p",[a("code",[s._v("*Config")]),s._v("è¿™ä¸ªç±»ï¼Œç”¨äºç»™å‡ºæŸä¸ªæ¨¡å‹çš„ç½‘ç»œç»“æ„ï¼Œé€šè¿‡configæ¥åŠ è½½æ¨¡å‹ï¼Œå¾—åˆ°çš„å°±æ˜¯ä¸€ä¸ªæ¨¡å‹çš„æ¶å­ï¼Œæ²¡æœ‰é¢„è®­ç»ƒçš„æƒé‡ã€‚")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" transformers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BertModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" BertConfig\n\nconfig "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BertConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nmodel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BertModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ¨¡å‹æ˜¯æ ¹æ®configæ¥æ„å»ºçš„ï¼Œè¿™æ—¶æ„å»ºçš„æ¨¡å‹æ˜¯å‚æ•°éšæœºåˆå§‹åŒ–çš„")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("çœ‹çœ‹configæ‰“å°å‡ºæ¥æ˜¯å•¥ï¼š")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("config"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("BertConfig "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"attention_probs_dropout_prob"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gradient_checkpointing"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" false,\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hidden_act"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gelu"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hidden_dropout_prob"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.1")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hidden_size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("768")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"initializer_range"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.02")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"intermediate_size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3072")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"layer_norm_eps"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" 1e-12,\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"max_position_embeddings"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("512")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"model_type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bert"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"num_attention_heads"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"num_hidden_layers"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pad_token_id"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"position_embedding_type"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"absolute"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"transformers_version"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"4.3.3"')]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"type_vocab_size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(",\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"use_cache"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" true,\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"vocab_size"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("30522")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br")])]),a("p",[s._v("æ›´å¸¸ç”¨çš„åšæ³•åˆ™æ˜¯ç›´æ¥åŠ è½½é¢„è®­ç»ƒæ¨¡å‹ï¼Œç„¶åå¾®è°ƒã€‚")]),s._v(" "),a("h3",{attrs:{id:"åˆå§‹åŒ–ä¸€ä¸ªé¢„è®­ç»ƒçš„transformeræ¨¡å‹-é€šè¿‡from-pretrainedæ¥åŠ è½½"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆå§‹åŒ–ä¸€ä¸ªé¢„è®­ç»ƒçš„transformeræ¨¡å‹-é€šè¿‡from-pretrainedæ¥åŠ è½½"}},[s._v("#")]),s._v(" åˆå§‹åŒ–ä¸€ä¸ªé¢„è®­ç»ƒçš„Transformeræ¨¡å‹ï¼šé€šè¿‡"),a("code",[s._v("from_pretrained")]),s._v("æ¥åŠ è½½")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" transformers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BertModel\n\nmodel "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BertModel"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("from_pretrained"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'bert-base-cased'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("æ¨¡å‹çš„ä¿å­˜ï¼š")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("model"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("save_pretrained"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"directory_on_my_computer"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ä¼šç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼š config.json pytorch_model.bin")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h2",{attrs:{id:"tokenizer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tokenizer"}},[s._v("#")]),s._v(" Tokenizer")]),s._v(" "),a("p",[s._v("transformeræ¨¡å‹ä½¿ç”¨çš„åˆ†è¯æ–¹æ³•ï¼Œå¾€å¾€ä¸æ˜¯ç›´æ¥çš„word-levelåˆ†è¯æˆ–è€…char-levelåˆ†è¯ã€‚")]),s._v(" "),a("p",[s._v("å‰è€…ä¼šè®©è¯è¡¨è¿‡å¤§ï¼Œåè€…åˆ™è¡¨ç¤ºèƒ½åŠ›å¾ˆä½ã€‚")]),s._v(" "),a("p",[s._v("å› æ­¤ä¸»æµçš„æ–¹å¼æ˜¯è¿›è¡Œ "),a("strong",[s._v("subword-level")]),s._v(' çš„åˆ†è¯ã€‚ä¾‹å¦‚å¯¹ "tokenization" è¿™ä¸ªè¯ï¼Œå¯èƒ½ä¼šè¢«åˆ†æˆ "token" å’Œ "ization" ä¸¤éƒ¨åˆ†ã€‚')]),s._v(" "),a("p",[s._v("å¸¸è§çš„subword tokenizationæ–¹æ³•æœ‰ï¼š")]),s._v(" "),a("ul",[a("li",[s._v("BPE")]),s._v(" "),a("li",[s._v("WordPiece")]),s._v(" "),a("li",[s._v("Unigram")]),s._v(" "),a("li",[s._v("SentencePiece")]),s._v(" "),a("li",[s._v("...")])]),s._v(" "),a("p",[s._v("è¿™é‡Œå¯¹BPEåšä¸€ä¸ªç®€å•çš„ä»‹ç»ï¼Œè®©æˆ‘ä»¬å¯¹ sub-word tokenization çš„åŸç†æœ‰ä¸€ä¸ªåŸºæœ¬äº†è§£ï¼š")]),s._v(" "),a("h2",{attrs:{id:"subword-tokenization-â˜†â˜†â˜†"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#subword-tokenization-â˜†â˜†â˜†"}},[s._v("#")]),s._v(" Subword tokenization (â˜†â˜†â˜†)")]),s._v(" "),a("p",[s._v("Subword tokenizationçš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šâ€œ"),a("strong",[s._v("é¢‘ç¹å‡ºç°äº†è¯ä¸åº”è¯¥è¢«åˆ‡åˆ†æˆæ›´å°çš„å•ä½ï¼Œä½†ä¸å¸¸å‡ºç°çš„è¯åº”è¯¥è¢«åˆ‡åˆ†æˆæ›´å°çš„å•ä½")]),s._v("â€ã€‚")]),s._v(" "),a("p",[s._v('æ¯”æ–¹"annoyingly"è¿™ç§è¯ï¼Œå°±ä¸æ˜¯å¾ˆå¸¸è§ï¼Œä½†æ˜¯"annoying"å’Œ"ly"éƒ½å¾ˆå¸¸è§ï¼Œå› æ­¤ç»†åˆ†æˆè¿™ä¸¤ä¸ªsub-wordå°±æ›´åˆç†ã€‚ä¸­æ–‡ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œæ¯”å¦‚â€œä»“åº“ç®¡ç†ç³»ç»Ÿâ€ä½œä¸ºä¸€ä¸ªå•ä½å°±æ˜æ˜¾åœ¨è¯­æ–™ä¸­ä¸ä¼šå¾ˆå¤šï¼Œå› æ­¤åˆ†æˆâ€œä»“åº“â€å’Œâ€œç®¡ç†ç³»ç»Ÿâ€å°±ä¼šå¥½å¾ˆå¤šã€‚')]),s._v(" "),a("p",[s._v("è¿™æ ·åˆ†è¯çš„å¥½å¤„åœ¨äºï¼Œå¤§å¤§èŠ‚çœäº†è¯è¡¨ç©ºé—´ï¼Œè¿˜èƒ½å¤Ÿè§£å†³OOVé—®é¢˜ã€‚å› ä¸ºæˆ‘ä»¬å¾ˆå¤šä½¿ç”¨çš„è¯è¯­ï¼Œéƒ½æ˜¯ç”±æ›´ç®€å•çš„è¯è¯­æˆ–è€…è¯ç¼€æ„æˆçš„ï¼Œæˆ‘ä»¬ä¸ç”¨å»ä¿å­˜é‚£äº›â€œå°è¯â€å„ç§æ’åˆ—ç»„åˆå½¢æˆçš„åƒå˜ä¸‡åŒ–çš„â€œå¤§è¯â€ï¼Œè€Œç”¨è¾ƒå°‘çš„è¯æ±‡ï¼Œå»è¦†ç›–å„ç§å„æ ·çš„è¯è¯­è¡¨ç¤ºã€‚åŒæ—¶ï¼Œç›¸æ¯”ä¸ç›´æ¥ä½¿ç”¨æœ€åŸºç¡€çš„â€œå­—â€ä½œä¸ºè¯è¡¨ï¼Œsub-wordçš„è¯­ä¹‰è¡¨ç¤ºèƒ½åŠ›ä¹Ÿæ›´å¼ºã€‚")]),s._v(" "),a("p",[s._v("é‚£ä¹ˆï¼Œç”¨ä»€ä¹ˆæ ·çš„æ ‡å‡†å¾—åˆ°sub-wordå‘¢ï¼Ÿä¸€ä¸ªè‘—åçš„ç®—æ³•å°±æ˜¯ "),a("strong",[s._v("Byte-Pair Encoding (BPE)")]),s._v(" ï¼š")]),s._v(" "),a("p",[s._v("ï¼ˆä¸‹é¢çš„å†…å®¹ï¼Œä¸»è¦ç¿»è¯‘è‡ªHuggingface Docsä¸­è®²è§£tokenizerçš„éƒ¨åˆ†ï¼Œååˆ†æ¨èå¤§å®¶ç›´æ¥é˜…è¯»ï¼š https://huggingface.co/transformers/master/tokenizer_summary.html ï¼‰")]),s._v(" "),a("h3",{attrs:{id:"bpe-byte-pair-encoding"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bpe-byte-pair-encoding"}},[s._v("#")]),s._v(" BPEâ€”â€”â€”â€”Byte-Pair Encodingï¼š")]),s._v(" "),a("h4",{attrs:{id:"step1-é¦–å…ˆ-æˆ‘ä»¬éœ€è¦å¯¹è¯­æ–™è¿›è¡Œä¸€ä¸ªé¢„åˆ†è¯-pre-tokenization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step1-é¦–å…ˆ-æˆ‘ä»¬éœ€è¦å¯¹è¯­æ–™è¿›è¡Œä¸€ä¸ªé¢„åˆ†è¯-pre-tokenization"}},[s._v("#")]),s._v(" "),a("strong",[s._v("Step1")]),s._v("ï¼šé¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å¯¹"),a("strong",[s._v("è¯­æ–™")]),s._v("è¿›è¡Œä¸€ä¸ª"),a("strong",[s._v("é¢„åˆ†è¯ï¼ˆpre-tokenizationï¼‰")]),s._v("ï¼š")]),s._v(" "),a("p",[s._v("æ¯”æ–¹å¯¹äºè‹±æ–‡ï¼Œæˆ‘å¯ä»¥ç›´æ¥ç®€å•åœ°ä½¿ç”¨ç©ºæ ¼åŠ ä¸€äº›æ ‡ç‚¹ç¬¦å·æ¥åˆ†è¯ï¼›ä¸­æ–‡å¯ä»¥ä½¿ç”¨jiebaæˆ–è€…ç›´æ¥å­—æ¥è¿›è¡Œåˆ†è¯ã€‚")]),s._v(" "),a("p",[s._v("åˆ†è¯ä¹‹åï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ª"),a("strong",[s._v("åŸå§‹è¯é›†åˆ")]),s._v("ï¼ŒåŒæ—¶ï¼Œè¿˜ä¼šè®°å½•æ¯ä¸ªè¯åœ¨è®­ç»ƒè¯­æ–™ä¸­å‡ºç°çš„"),a("strong",[s._v("é¢‘ç‡")]),s._v("ã€‚")]),s._v(" "),a("p",[s._v("å‡è®¾æˆ‘ä»¬çš„è¯é›†åˆä»¥åŠè¯é¢‘æ˜¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hug"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pug"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"pun"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bun"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"hugs"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"step2-æ„å»ºåŸºç¡€è¯è¡¨-base-vocab-å¹¶å¼€å§‹å­¦ä¹ -ç»“åˆè§„åˆ™-merge-rules"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step2-æ„å»ºåŸºç¡€è¯è¡¨-base-vocab-å¹¶å¼€å§‹å­¦ä¹ -ç»“åˆè§„åˆ™-merge-rules"}},[s._v("#")]),s._v(" "),a("strong",[s._v("Step2")]),s._v("ï¼šæ„å»º"),a("strong",[s._v("åŸºç¡€è¯è¡¨ï¼ˆbase vocabï¼‰")]),s._v(" å¹¶å¼€å§‹å­¦ä¹  "),a("strong",[s._v("ç»“åˆè§„åˆ™ï¼ˆmerge rulesï¼‰")]),s._v("ï¼š")]),s._v(" "),a("p",[s._v("å¯¹äºè‹±è¯­æ¥è¯´ï¼Œæˆ‘ä»¬é€‰æ‹©å­—æ¯æ¥æ„æˆ"),a("strong",[s._v("åŸºç¡€è¯è¡¨")]),s._v("ï¼š")]),s._v(" "),a("p",[a("code",[s._v('["b", "g", "h", "n", "p", "s", "u"]')])]),s._v(" "),a("p",[s._v("æ³¨ï¼šè¿™ä¸ªåŸºç¡€è¯è¡¨ï¼Œå°±æ˜¯æˆ‘ä»¬æœ€ç»ˆè¯è¡¨çš„åˆå§‹çŠ¶æ€ï¼Œæˆ‘ä»¬ä¼šä¸æ–­æ„å»ºæ–°è¯ï¼ŒåŠ è¿›å»ï¼Œç›´åˆ°è¾¾åˆ°æˆ‘ä»¬ç†æƒ³çš„è¯è¡¨è§„æ¨¡ã€‚")]),s._v(" "),a("p",[s._v("æ ¹æ®è¿™ä¸ªåŸºç¡€è¯è¡¨ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹åŸå§‹çš„è¯é›†åˆè¿›è¡Œç»†ç²’åº¦åˆ†è¯ï¼Œå¹¶çœ‹åˆ°åŸºç¡€è¯çš„è¯é¢‘ï¼š")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"u"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"g"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"p"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"u"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"g"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"p"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"u"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"b"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"u"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"n"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"h"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"u"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"g"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"s"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("æ¥ä¸‹æ¥å°±æ˜¯BPEçš„Byte-Pairæ ¸å¿ƒéƒ¨åˆ†â€”â€”â€”â€”æ‰¾symbol pairï¼ˆç¬¦å·å¯¹ï¼‰å¹¶å­¦ä¹ ç»“åˆè§„åˆ™ï¼Œå³ï¼Œæˆ‘ä»¬ä»ä¸Šé¢è¿™ä¸ªç»Ÿè®¡ç»“æœä¸­ï¼Œæ‰¾å‡ºå‡ºç°æ¬¡æ•°æœ€å¤šçš„é‚£ä¸ªç¬¦å·å¯¹ï¼š")]),s._v(" "),a("p",[s._v("ç»Ÿè®¡ä¸€ä¸‹ï¼š")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("h"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("u   å‡ºç°äº† "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v(" æ¬¡\nu"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("g   å‡ºç°äº† "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("20")]),s._v(" æ¬¡\np"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("+")]),s._v("u   å‡ºç°äº† "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v(" æ¬¡\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("ç»Ÿè®¡å®Œæ¯•ï¼Œæˆ‘ä»¬å‘ç°"),a("code",[s._v("u+g")]),s._v("å‡ºç°äº†æœ€å¤šæ¬¡ï¼Œå› æ­¤ï¼Œç¬¬ä¸€ä¸ªç»“åˆè§„åˆ™å°±æ˜¯ï¼š"),a("strong",[s._v("æŠŠ"),a("code",[s._v("u")]),s._v("è·Ÿ"),a("code",[s._v("g")]),s._v("æ‹¼èµ·æ¥ï¼Œå¾—åˆ°"),a("code",[s._v("ug")]),s._v("è¿™ä¸ªæ–°è¯ï¼")])]),s._v(" "),a("p",[s._v("é‚£ä¹ˆï¼Œæˆ‘ä»¬å°±æŠŠ"),a("code",[s._v("ug")]),s._v("åŠ å…¥åˆ°æˆ‘ä»¬çš„åŸºç¡€è¯è¡¨ï¼š")]),s._v(" "),a("p",[a("code",[s._v('["b", "g", "h", "n", "p", "s", "u", "ug"]')])]),s._v(" "),a("p",[s._v("åŒæ—¶ï¼Œè¯é¢‘ç»Ÿè®¡è¡¨ä¹Ÿå˜æˆäº†ï¼š")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('("h" "ug", 10), ("p" "ug", 5), ("p" "u" "n", 12), ("b" "u" "n", 4), ("h" "ug" "s", 5)\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"step3-åå¤åœ°æ‰§è¡Œä¸Šä¸€æ­¥-ç›´åˆ°è¾¾åˆ°é¢„è®¾çš„è¯è¡¨è§„æ¨¡ã€‚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step3-åå¤åœ°æ‰§è¡Œä¸Šä¸€æ­¥-ç›´åˆ°è¾¾åˆ°é¢„è®¾çš„è¯è¡¨è§„æ¨¡ã€‚"}},[s._v("#")]),s._v(" "),a("strong",[s._v("Step3")]),s._v("ï¼šåå¤åœ°æ‰§è¡Œä¸Šä¸€æ­¥ï¼Œç›´åˆ°è¾¾åˆ°é¢„è®¾çš„è¯è¡¨è§„æ¨¡ã€‚")]),s._v(" "),a("p",[s._v("æˆ‘ä»¬æ¥ç€ç»Ÿè®¡ï¼Œå‘ç°ä¸‹ä¸€ä¸ªé¢‘ç‡æœ€é«˜çš„symbol pairæ˜¯"),a("code",[s._v("u+n")]),s._v("ï¼Œå‡ºç°äº†12+4=16æ¬¡ï¼Œå› æ­¤è¯è¡¨ä¸­å¢åŠ "),a("code",[s._v("un")]),s._v("è¿™ä¸ªè¯ï¼›å†ä¸‹ä¸€ä¸ªåˆ™æ˜¯"),a("code",[s._v("h+ug")]),s._v("ï¼Œå‡ºç°äº†10+5=15æ¬¡ï¼Œå› æ­¤æ·»åŠ "),a("code",[s._v("hug")]),s._v("è¿™ä¸ªè¯......")]),s._v(" "),a("p",[s._v("å¦‚æ­¤è¿›è¡Œä¸‹å»ï¼Œå½“è¾¾åˆ°äº†é¢„è®¾çš„"),a("code",[s._v("vocab_size")]),s._v("çš„æ•°ç›®æ—¶ï¼Œå°±åœæ­¢ï¼Œå’±ä»¬çš„è¯è¡¨å°±å¾—åˆ°å•¦ï¼")]),s._v(" "),a("h4",{attrs:{id:"step4-å¦‚ä½•åˆ†è¯"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#step4-å¦‚ä½•åˆ†è¯"}},[s._v("#")]),s._v(" "),a("strong",[s._v("Step4")]),s._v("ï¼šå¦‚ä½•åˆ†è¯ï¼š")]),s._v(" "),a("p",[s._v("å¾—åˆ°äº†æœ€ç»ˆè¯è¡¨ï¼Œåœ¨ç¢°åˆ°ä¸€ä¸ªè¯æ±‡è¡¨ä¸­æ²¡æœ‰çš„è¯çš„æ—¶å€™ï¼Œæ¯”å¦‚"),a("code",[s._v("bug")]),s._v("å°±ä¼šæŠŠå®ƒåˆ†æˆ"),a("code",[s._v("b")]),s._v("å’Œ"),a("code",[s._v("ug")]),s._v("ã€‚ä¹Ÿå¯ä»¥ç†è§£æˆï¼Œæˆ‘é¦–å…ˆæŠŠ"),a("code",[s._v("bug")]),s._v("åˆ†è§£æˆæœ€åŸºæœ¬çš„å­—æ¯ï¼Œç„¶åæ ¹æ®å‰é¢çš„ç»“åˆè§„å¾‹ï¼ŒæŠŠ"),a("code",[s._v("u")]),s._v("è·Ÿ"),a("code",[s._v("g")]),s._v("ç»“åˆèµ·æ¥ï¼Œè€Œ"),a("code",[s._v("b")]),s._v("å•ç‹¬ä¸€ä¸ªã€‚å…·ä½“åœ¨åˆ†è¯æ—¶å€™æ˜¯å¦‚ä½•åšçš„ï¼Œæœ‰æ—¶é—´å»è¯»è¯»æºç ã€‚")]),s._v(" "),a("hr"),s._v(" "),a("p",[s._v("é™¤äº†BPEï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„sub-wordåˆ†è¯æ³•ï¼Œå¯ä»¥å‚è€ƒ https://huggingface.co/transformers/master/tokenizer_summary.html ã€‚")]),s._v(" "),a("p",[s._v("ä¸‹é¢ï¼Œæˆ‘ä»¬å°±ç›´æ¥ä½¿ç”¨Tokenizeræ¥è¿›è¡Œåˆ†è¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" transformers "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" BertTokenizer  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æˆ–è€… AutoTokenizer")]),s._v("\n\ntokenizer "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" BertTokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("from_pretrained"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"bert-base-cased"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("s "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'today is a good day to learn transformers'")]),s._v("\ntokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("å¾—åˆ°ï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'input_ids'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2052")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1110")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("170")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1363")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1285")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1106")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3858")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11303")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1468")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'token_type_ids'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'attention_mask'")]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"äº†è§£ä¸€ä¸‹å†…éƒ¨çš„å…·ä½“æ­¥éª¤"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äº†è§£ä¸€ä¸‹å†…éƒ¨çš„å…·ä½“æ­¥éª¤"}},[s._v("#")]),s._v(" äº†è§£ä¸€ä¸‹å†…éƒ¨çš„å…·ä½“æ­¥éª¤ï¼š")]),s._v(" "),a("ol",[a("li",[a("code",[s._v("tokenize()")])])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("s "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'today is a good day to learn transformers'")]),s._v("\ntokens "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tokenize"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("s"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\ntokens\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'today'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'is'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'a'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'good'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'day'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'to'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'learn'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'transform'")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'##ers'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("æ³¨æ„è¿™é‡Œçš„åˆ†è¯ç»“æœï¼Œ"),a("code",[s._v("transformers")]),s._v("è¢«åˆ†æˆäº†"),a("code",[s._v("transform")]),s._v("å’Œ"),a("code",[s._v("##ers")]),s._v("ã€‚è¿™é‡Œçš„##ä»£è¡¨è¿™ä¸ªè¯åº”è¯¥ç´§è·Ÿåœ¨å‰é¢çš„é‚£ä¸ªè¯ï¼Œç»„æˆä¸€ä¸ªå®Œæ•´çš„è¯ã€‚")]),s._v(" "),a("p",[s._v("è¿™æ ·è®¾è®¡ï¼Œä¸»è¦æ˜¯ä¸ºäº†æ–¹é¢æˆ‘ä»¬åœ¨è¿˜åŸå¥å­çš„æ—¶å€™ï¼Œå¯ä»¥æ­£ç¡®å¾—æŠŠsub-wordç»„æˆæˆåŸæ¥çš„è¯ã€‚")]),s._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[a("code",[s._v("convert_tokens_to_ids()")])])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("ids "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" tokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("convert_tokens_to_ids"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tokens"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nids\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("[2052, 1110, 170, 1363, 1285, 1106, 3858, 11303, 1468]\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[a("code",[s._v("decode")])])]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("decode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1468")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("tokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("decode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ids"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# æ³¨æ„è¿™é‡Œä¼šæŠŠsubwordè‡ªåŠ¨æ‹¼èµ·æ¥")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("##ers")]),s._v("\ntoday is a good day to learn transformers\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("h3",{attrs:{id:"special-tokens"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#special-tokens"}},[s._v("#")]),s._v(" Special Tokens")]),s._v(" "),a("p",[s._v("è§‚å¯Ÿä¸€ä¸‹ä¸Šé¢çš„ç»“æœï¼Œç›´æ¥call tokenizerå¾—åˆ°çš„idsæ˜¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2052")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1110")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("170")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1363")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1285")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1106")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3858")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11303")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1468")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è€Œé€šè¿‡"),a("code",[s._v("convert_tokens_to_ids")]),s._v("å¾—åˆ°çš„idsæ˜¯ï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2052")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1110")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("170")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1363")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1285")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1106")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3858")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11303")]),s._v(", "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1468")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å¯ä»¥å‘ç°ï¼Œå‰è€…åœ¨å¤´å’Œå°¾å¤šäº†ä¿©tokenï¼Œidåˆ†åˆ«æ˜¯ 101 å’Œ 102ã€‚")]),s._v(" "),a("p",[s._v("decodeå‡ºæ¥ç…ç…ï¼š")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("tokenizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("decode"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("101")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2052")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1110")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("170")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1363")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1285")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1106")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3858")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11303")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1468")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("102")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("è¾“å‡ºï¼š")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'[CLS] today is a good day to learn transformers [SEP]'")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("å®ƒä»¬åˆ†åˆ«æ˜¯ "),a("code",[s._v("[CLS]")]),s._v(" å’Œ "),a("code",[s._v("[SEP]")]),s._v("ã€‚è¿™ä¸¤ä¸ªtokençš„å‡ºç°ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬è°ƒç”¨çš„æ¨¡å‹ï¼Œåœ¨pre-trainé˜¶æ®µä½¿ç”¨äº†å®ƒä»¬ï¼Œæ‰€ä»¥tokenizerä¹Ÿä¼šä½¿ç”¨ã€‚")]),s._v(" "),a("p",[s._v("ä¸åŒçš„æ¨¡å‹ä½¿ç”¨çš„special tokensä¸ä¸€å®šç›¸åŒï¼Œæ‰€ä»¥ä¸€å®šè¦è®©tokenizerè·Ÿmodelä¿æŒä¸€è‡´ï¼")])])}),[],!1,null,null,null);t.default=e.exports}}]);